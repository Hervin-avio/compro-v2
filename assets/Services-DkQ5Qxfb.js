import{r as a,k as C,o as P,l as $,c as i,b as s,h as y,m as f,v as j,p as L,F as N,d as V,t as u,e as D,f as n,i as F,w as S,j as B}from"./index-DVSU7j3B.js";const I={class:"p-6"},M={class:"mb-4 flex items-center justify-between"},R={class:"flex items-center space-x-2"},T={key:0,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},U=["src","alt","onClick"],z={class:"text-lg font-semibold text-gray-900"},E={class:"text-gray-600 text-sm mb-2"},G=["onClick"],Q={class:"font-bold text-blue-600 mb-3"},q={key:1,class:"text-center text-gray-500 mt-8"},A={class:"flex justify-center mt-8 space-x-2"},H=["disabled"],J=["disabled"],K={class:"px-3 py-1 bg-blue-500 text-white rounded"},O=["disabled"],W=["disabled"],X={key:2,class:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-30"},Y={class:"relative bg-white p-4 rounded-lg shadow-lg max-w-3xl max-h-[90vh] flex flex-col items-center"},Z=["src"],se={__name:"Services",setup(ee){const g=a([]),o=a(1),r=a(0),d=a(12),_=a(0),c=a({}),v=a(""),b=a(null),k=l=>{const p=l*15e3;return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(p)},x=async(l=1)=>{try{const t=(l-1)*d.value,e=await(await fetch(`https://dummyjson.com/products?limit=${d.value}&skip=${t}`)).json();g.value=e.products,_.value=e.total,r.value=Math.ceil(e.total/d.value),c.value={}}catch(t){console.error("Gagal fetch data:",t)}},m=l=>{l>=1&&l<=r.value&&(o.value=l,x(l))};C(d,()=>{o.value=1,x()}),P(()=>{x()});const h=$(()=>v.value?g.value.filter(l=>l.title.toLowerCase().includes(v.value.toLowerCase())||l.description.toLowerCase().includes(v.value.toLowerCase())):g.value);return(l,t)=>{const p=D("router-link");return n(),i("div",I,[t[10]||(t[10]=s("h1",{class:"text-2xl font-bold mb-6 text-center"},"Services - Product List",-1)),s("div",M,[s("div",R,[t[8]||(t[8]=s("label",{for:"perPage",class:"text-gray-700 font-medium"},"Show per page:",-1)),f(s("select",{id:"perPage","onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),class:"border rounded px-2 py-1"},t[7]||(t[7]=[s("option",{value:"6"},"6",-1),s("option",{value:"12"},"12",-1),s("option",{value:"24"},"24",-1),s("option",{value:"48"},"48",-1)]),512),[[j,d.value]])]),f(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),type:"text",placeholder:"Cari produk...",class:"border rounded px-3 py-2 w-64"},null,512),[[L,v.value]])]),h.value.length?(n(),i("div",T,[(n(!0),i(N,null,V(h.value,e=>(n(),i("div",{key:e.id,class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition"},[s("img",{src:e.thumbnail,alt:e.title,class:"w-full h-40 object-cover rounded-md mb-3 cursor-pointer",onClick:w=>b.value=e.thumbnail},null,8,U),s("h2",z,u(e.title),1),s("p",E,u(c.value[e.id]?e.description:e.description.slice(0,60)+(e.description.length>60?"...":"")),1),e.description.length>60?(n(),i("button",{key:0,onClick:w=>c.value[e.id]=!c.value[e.id],class:"text-blue-500 text-xs mb-2"},u(c.value[e.id]?"Read less":"Read more"),9,G)):y("",!0),s("p",Q,u(k(e.price)),1),F(p,{to:`/product/${e.id}`,class:"block w-full bg-blue-500 text-white py-2 text-center rounded-lg hover:bg-blue-600 transition"},{default:S(()=>t[9]||(t[9]=[B(" Beli ",-1)])),_:2,__:[9]},1032,["to"])]))),128))])):(n(),i("div",q," Produk tidak ditemukan ")),s("div",A,[s("button",{onClick:t[2]||(t[2]=e=>m(1)),disabled:o.value===1,class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50"}," First ",8,H),s("button",{onClick:t[3]||(t[3]=e=>m(o.value-1)),disabled:o.value===1,class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50"}," Prev ",8,J),s("span",K," Page "+u(o.value)+" of "+u(r.value),1),s("button",{onClick:t[4]||(t[4]=e=>m(o.value+1)),disabled:o.value===r.value,class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50"}," Next ",8,O),s("button",{onClick:t[5]||(t[5]=e=>m(r.value)),disabled:o.value===r.value,class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50"}," Last ",8,W)]),b.value?(n(),i("div",X,[s("div",Y,[s("button",{onClick:t[6]||(t[6]=e=>b.value=null),class:"absolute top-2 right-2 bg-red-500 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-red-600"}," âœ• "),s("img",{src:b.value,alt:"Preview",class:"max-w-full max-h-[80vh] object-contain rounded"},null,8,Z)])])):y("",!0)])}}};export{se as default};
